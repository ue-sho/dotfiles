[tools]
aqua = "latest"
deno = "latest"
go = "latest"
node = "latest"
npm = "latest"
"npm:@anthropic-ai/claude-code" = "latest"
pnpm = "latest"
python = "3.12"
ruby = "3.3.8"
rust = "latest"
task = "latest"
terraform = "latest"
tflint = "latest"
uv = "latest"

[tasks.aws-sso-login]
alias = "al"
description = "SSOでログインして、現在のセッションに認証情報を設定する"
run = "aws sso login"

[tasks.clean-branch]
description = "リモートで削除されたブランチに対応するローカルブランチを自動削除する"
run = """
git fetch --prune && \
git for-each-ref --format '%(refname:short) %(upstream:short)' refs/heads | \
while read branch upstream; do
  [ -n "$upstream" ] && \
  remote_branch="${upstream#origin/}" && \
  [ -z "$(git ls-remote --heads origin "$remote_branch" 2>/dev/null)" ] && \
  git branch -d "$branch" 2>/dev/null || true
done
"""
